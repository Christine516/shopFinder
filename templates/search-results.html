<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title></title>
  </head>
  <link rel="stylesheet" href="/static/css/search-results.css">
  <body>
    <section id=header>
      <h1>SHOP FINDER</h1>
      <h2 id="motto">A Community of Shoppers Finding One Item at a Time</h2>
    </section>
    <div id = "navBar">
      <a class = "navBar_options" href = "/">Home</a>
      <a class = "navBar_options" href = "/allPosts">Explore</a>
      <div>
        <a class = "navBar_options" href = "/Logout">Log Out</a>
      </div>
    </div>
    <div id = "searchResults">
    <h1>Search Results:</h1>
    </div>
    <div class = "cardcontainer">
    {% if results !=  None %}
      {% for post in results %}
        <div class = "card">
        <img class="card-img-top" style = "width:398px" src = {{ post.image_url }}>
        <div class = "userbox">
          <h1 class = "card-title">User: {{ post.user_name}} </h1>
        </div>
        <div class= "tags">
        <p>Tags:</p>
        <ul class="card-text">
        {% for tag in post.tags %}
          <span class = "w3-tag w3-blue"><li class = "card-text" style = "display:inline;float:left; list-style-type: none;padding-right:1rem"> #{{ tag }} </li></span>
        {% endfor %}
        </ul>
        </div>
        <br>
        <form method = "post" action = "/">
            <input id = "Input{{ post.key.id }}"type="text" name="Comment" value="Post Comment here">
            <button class="btn btn-primary" onclick = "CommentPost({{ post.key.id }})" type="submit">Post!</button>
        </form>
        {% if post.comments != None %}
          {% for commentKey in post.comments %}
          {% set comment = commentKey.get() %}
            <div class="comments">
            <p>User:{{ comment.user_name }}</p>
            <p>{{ comment.content }} </p>
            </div>
          {% endfor %}
        {% endif %}
        {% if post.user_name in post.likes_list %}

            <h1 class = "card-text">
              <!-- <svg class="heart" viewBox="0 0 32 29.6">
                <path d="M23.6,0c-3.4,0-6.3,2.7-7.6,5.6C14.7,2.7,11.8,0,8.4,0C3.8,0,0,3.8,0,8.4c0,9.4,9.5,11.9,16,21.2
                 c6.1-9.3,16-12.1,16-21.2C32,3.8,28.2,0,23.6,0z"/>
              </svg> -->
              :{{ post.likes }}</h1>
        {%  else %}
           <form method = "post" action ="/">
           <button type ="submit" class="btn btn-primary" id  = {{ post.key.id  }} onclick="LikePost({{ post.key.id }})" >Likes: {{ post.likes }} </button>
            </form>
        {%  endif %}
      </div>
      {% endfor %}
    {% else %}
      <h1>Sorry, No Posts Match Your Search</h1>
    {% endif %}
  </div>
  </body>
</html>
